angular.module("templates",[]).run(["$templateCache",function(e){e.put("src/templates/asf-cloudinary-file-upload.html",'<div>\n\x3c!-- Surrounding DIV for sfField builder to add a sfField directive to. --\x3e\n\n  <div id="direct_upload" \n    ngf-drop="uploadFiles($files)"\n    ngf-drag-over-class="dragOverClass($event)"\n    ng-model="files"\n    ng-multiple="true" ng-controller="cloudinaryFileUploadCtrl">\n    <form>\n        <div class="form_line">\n            <label path="title">Title:</label>\n            <div class="form_controls">\n                <input type="text" class="form-control" placeholder="Title" ng-model="title" />\n            </div>\n        </div>\n        <div class="form_line">\n            <label>{{form.label}}:</label>\n            <div class="form_controls">\n                <div class="upload_button_holder">\n                    <div href="#" class="upload_button" ngf-select="uploadFiles($files)" title="upload" resetOnClick="true" >Upload</div>\n                </div>\n            </div>\n        </div>\n    </form>\n    <h2>Status</h2>\n    <div class="file" ng-repeat="file in files">\n        <h3>{{file.name}} {{f.$error}} {{f.$errorParam}}</h3>\n        <div class="status">{{file.status}}</div>\n        <div class="progress-bar">\n          <div class="progress" style="width: {{file.progress}}%" ng-init="progress=0"></div>\n        </div>\n        <div class="form_line">\n            <div class="form_controls">\n                <div class="preview">\n                    <img ngf-src="file.result.url || file" style="width: 150px;">\n                </div>\n            </div>\n        </div>\n    </div>\n    \n</div>\n  \x3c!-- sf-field-model let\'s the ngModel builder know that you want a ng-model that matches against the form key here --\x3e\n  \x3c!-- schema-validate="form" validates the form against the schema --\x3e\n\n  <span sf-message="form.description"></span>\n  \x3c!-- Description & Validation messages --\x3e\n\n</div>\n')}]),function(){"use strict";function e(e,l,o){var t=new Date;e.title="Image ("+t.getDate()+" - "+t.getHours()+":"+t.getMinutes()+":"+t.getSeconds()+")",e.model.title=e.title,o.config().cloud_name=e.form.cloudName,o.config().upload_preset=e.form.uploadPreset,e.uploadFiles=function(t){e.files=t,e.files&&angular.forEach(t,function(t){t&&!t.$error&&(t.upload=l.upload({url:"https://api.cloudinary.com/v1_1/"+o.config().cloud_name+"/upload",data:{upload_preset:o.config().upload_preset,tags:"myphotoalbum",context:"photo="+e.title,file:t}}).progress(function(e){t.progress=Math.round(100*e.loaded/e.total),t.status="Uploading... "+t.progress+"%"}).success(function(l,o,n,i){e.photos=e.photos||[],l.context={custom:{photo:e.title}},t.result=l,e.model.image=l,e.photos.push(l)}).error(function(e,l,o,n){t.result=e}))})}}var l=angular.module("cloudinaryFileUpload",["schemaForm","templates","cloudinary","ngFileUpload"]);l.config(function(e,l){e.defineAddOn("bootstrapDecorator","cloudinaryfileupload","src/templates/asf-cloudinary-file-upload.html",l.stdBuilders)}),l.controller("cloudinaryFileUploadCtrl",e),e.$inject=["$scope","Upload","cloudinary"]}();