angular.module("templates",[]).run(["$templateCache",function(e){e.put("src/templates/asf-cloudinary-file-upload.html",'<div>\n\x3c!-- Surrounding DIV for sfField builder to add a sfField directive to. --\x3e\n\n  <div id="direct_upload" \n    ngf-drop="uploadFiles($files)"\n    ngf-drag-over-class="dragOverClass($event)"\n    ng-model="files"\n    ng-multiple="true" ng-controller="cloudinaryFileUploadCtrl">\n    <form>\n        <div class="form_line">\n            <label path="title">Title:</label>\n            <div class="form_controls">\n                <input type="text" class="form-control" placeholder="Title" ng-model="title" />\n            </div>\n        </div>\n        <div class="form_line">\n            <label>{{form.label}}:</label>\n            <div class="form_controls">\n                <div class="upload_button_holder">\n                    <div href="#" class="upload_button" ngf-select="uploadFiles($files)" title="upload" resetOnClick="true" >Upload</div>\n                </div>\n            </div>\n        </div>\n    </form>\n    <h2>Status</h2>\n    <div class="file" ng-repeat="file in files">\n        <h3>{{file.name}} {{f.$error}} {{f.$errorParam}}</h3>\n        <div class="status">{{file.status}}</div>\n        <div class="progress-bar">\n          <div class="progress" style="width: {{file.progress}}%" ng-init="progress=0"></div>\n        </div>\n        <div class="form_line">\n            <div class="form_controls">\n                <div class="preview">\n                    <img ngf-src="file.result.url || file" style="width: 150px;">\n                </div>\n            </div>\n        </div>\n        <div class="info">\n          <table>\n            <tr ng-repeat="(key, value) in file.result">\n              <td> {{key}} </td> <td> {{ value }} </td>\n            </tr>\n          </table>\n        </div>\n    </div>\n    \n</div>\n  \x3c!-- sf-field-model let\'s the ngModel builder know that you want a ng-model that matches against the form key here --\x3e\n  \x3c!-- schema-validate="form" validates the form against the schema --\x3e\n\n  <span sf-message="form.description"></span>\n  \x3c!-- Description & Validation messages --\x3e\n\n</div>\n')}]);var cloudinaryFileUploadModule=angular.module("cloudinaryFileUpload",["schemaForm","templates","cloudinary","ngFileUpload"]);cloudinaryFileUploadModule.config(function(e,l){e.defineAddOn("bootstrapDecorator","cloudinaryfileupload","src/templates/asf-cloudinary-file-upload.html",l.stdBuilders)}),cloudinaryFileUploadModule.controller("cloudinaryFileUploadCtrl",["$scope","Upload","cloudinary",function(e,l,o){var n=new Date;e.title="Image ("+n.getDate()+" - "+n.getHours()+":"+n.getMinutes()+":"+n.getSeconds()+")",e.model.title=e.title,o.config().cloud_name=e.form.cloudName,o.config().upload_preset=e.form.uploadPreset,e.uploadFiles=function(n){e.files=n,e.files&&angular.forEach(n,function(n){n&&!n.$error&&(n.upload=l.upload({url:"https://api.cloudinary.com/v1_1/"+o.config().cloud_name+"/upload",data:{upload_preset:o.config().upload_preset,tags:"myphotoalbum",context:"photo="+e.title,file:n}}).progress(function(e){n.progress=Math.round(100*e.loaded/e.total),n.status="Uploading... "+n.progress+"%"}).success(function(l,o,t,a){e.photos=e.photos||[],l.context={custom:{photo:e.title}},n.result=l,e.model.image=l,e.photos.push(l)}).error(function(e,l,o,t){n.result=e}))})}}]);